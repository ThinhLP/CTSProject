<!-- TODO: Xem lại learner đã hoàn thành những plan nào rồi -->
<!-- TODO: Có bao nhiêu plan active, có bao nhiêu plan outdate -->
<!--  -->
<!-- TODO: Số khoá học public và unpblic trong plan -->
<!-- TODO: Số learner, author trong plan (Chart 2 column) -->
<!-- TODO: Top 10 plan được nhiều learner tham gia nhất -->
<!-- TODO: Top 10 khoá học có tương tác nhiều nhất -->
<!-- TODO: Calendar show plan in range of time -->
<!-- TODO: Tổng số learner đã hoàn thành tất cả plan hết hạn -->


<!-- 1: list plan hiển thị % tổng số learner hoàn thành -> bấm vào show modal xem detail progress của từng learner-->
<!-- 2: Biểu đồ tròn - Có nút chi tiết, bấm vào show list plan nào active, plan nào outdate -->
<!-- 4: Bar chart ngang -->
<!-- 6,7: Table, gộp chung vô thành những tab khác nhau-->
<!-- 8: Calendar (not sure) -->

<!--  
   TODO:
    tap trung tien do hoc cua hoc vien, xem hoanh thanh nhung gi, co bi tre gi ko
    xem tien do hoc cua tung nguoi
    
    De xuat khoa hoc cho learner moi vao: Collaboration Filtering
    
    Thuat toan: flow tao khoa hoc nhu nao
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Báo cáo | Traisy</title>
    <link href="./resources/images/small-logo.png" rel="icon" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./resources/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./resources/bootstrap-datepicker/css/bootstrap-datepicker3.min.css" />

    <link rel="stylesheet" href="./resources/font-awesome-4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="./css/new-global.css" />
    <link rel="stylesheet" href="./css/new-global-responsive.css" />
    <link rel="stylesheet" href="./css/manage-page.css" />
    <link rel="stylesheet" href="./css/manage-course.css" />
    <link rel="stylesheet" href="./css/manage-report.css" />
    <link rel="stylesheet" href="./css/modal-global.css" />
    <link rel="stylesheet" href="resources/stepper/noncounter-stepper.css" />
</head>

<body>
    <div class="left-panel">
        <div class="logo-wrapper">
            <a href="#"><img class="logo" src="../resources/images/logo_traisy1.png" />
            </a>
            <span class="search-btn"><i class="fa fa-search"></i></span>
        </div>

        <div class="user-info">
            <a class="user-detail" href="#">
                <img class="user-avatar" src="../resources/images/man.png" />
                <span class="user-fullname ellipsis">Nguyen Van Ahihi</span>
            </a>
            <div class="user-action" target=".user-menu" collapsed="true">
                <i class="fa fa-angle-up"></i>
            </div>
            <ul class="user-menu">
                <li><a href="#">Chương trình của tôi</a></li>
                <li><a href="#">Đăng xuất</a></li>
            </ul>
        </div>
        <div class="navigator-wrapper main-navigator">
            <ul class="nav-items">
                <li class="dashboard-item"><a href="#"><i class="fa fa-bar-chart" aria-hidden="true"></i><span class="nav-item-name">Thống kê</span></a>
                </li>
                <li class="active dashboard-item"><a href="#"><i class="fa fa-tasks" aria-hidden="true"></i><span class="nav-item-name">Quản lý kế hoạch</span></a>
                </li>
                <li class="dashboard-item"><a href="#"><i class="fa fa-address-card" aria-hidden="true"></i><span class="nav-item-name">Quản lý thương hiệu</span></a>
                </li>
                <li class="dashboard-item"><a href="#"><i class="fa fa-users"></i><span class="nav-item-name">Quản lý người dùng</span></a>
                </li>
                <li class="dashboard-item"><a href="#"><i class="fa fa-leanpub chart-icon"></i><span class="nav-item-name">Kiểm duyệt khoá học</span></a>
                </li>
            </ul>
        </div>
        <div class="navigator-wrapper minor-navigator">
            <div class="nav-title-wrapper">
                <span class="nav-title"><a href="#">Danh sách kế hoạch</a></span>
                <span class="add-button"><i class="fa fa-plus-circle"></i></span>
            </div>
            <ul class="nav-items">
                <li class="course-item"><a href="#"><span class="nav-item-name">Đào tạo lập trình</span></a>
                </li>
                <li class="course-item"><a href="#"><span class="nav-item-name">Đào tạo kĩ năng làm việc nhóm</span></a>
                </li>
                <li class="course-item"><a href="#"><span class="nav-item-name">Thiết kế chuyên nghiệp</span></a>
                </li>
            </ul>
        </div>
    </div>
    <div class="right-panel">
        <div class="fake-panel"></div>
        <div class="nav-top fix-nav-top">
            <div class="nav-top-info">
                <span class="hamburger-button"><i class="fa fa-bars"></i></span>
                <span class="nav-top-title">Báo cáo</span>
            </div>
        </div>
        <div class="main-container">
            <div class="content-wrapper col-md-12">
                <div class="col-md-9 left-container">
                    <div class="section-content section-report-chart" id="calendar-timetable-wrapper">
                        <div class="chart-title">
                            <i class="fa fa-calendar chart-icon" aria-hidden="true"></i>Tổng số kế hoạch công khai và không công khai
                        </div>
                        <div class="chart-container">
                            <div id="barchart_material"></div>
                        </div>
                    </div>
                    <div class="double-chart-container small-width">
                        <div class="chart-wrapper">
                            <div class="section-content section-report-chart">
                                <div class="chart-title">
                                    <i class="fa fa-calendar chart-icon" aria-hidden="true"></i>Thống kê tổng số kế hoạch
                                </div>
                                <div class="chart-container small-width">
                                    <div id="donutchart1" class="donutchart"></div>
                                    <div class="center-value">150</div>
                                </div>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <div class="section-content section-report-chart">
                                <div class="chart-title">
                                    <i class="fa fa-leanpub chart-icon" aria-hidden="true"></i>Kết quả học tập của học viên
                                </div>
                                <div class="chart-container small-width">
                                    <div id="donutchart2" class="donutchart"></div>
                                    <div class="center-value">150</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--<div class="section-content section-report-chart" id="calendar-timetable-wrapper">
                        <div class="chart-title">
                            <i class="fa fa-calendar chart-icon" aria-hidden="true"></i>Thống kê
                        </div>
                        <div class="chart-container">
                            <div id="donutchart1" class="donutchart" style="width: 300px; height: 300px"></div>
                            <div id="donutchart2" class="donutchart" style="width: 300px; height: 300px"></div>
                            <div id="timeline"></div>
                        </div>
                    </div>-->
                    <!--<div id="barchart_material"></div>
                    <div class="section-content section-report-chart col-md-3" style="display: none;">
                        <div class="chart-title">
                            <i class="fa fa-calendar chart-icon" aria-hidden="true"></i>Tổng số kế hoạch
                        </div>
                        <div class="chart-container">
                            <div id="donutchart" style="width: 250px; height: 250px;"></div>
                        </div>
                    </div>-->
                </div>
                <div class="col-md-3 plan-progress-wrapper">
                    <h2>Tiến độ các kế hoạch</h2>
                    <ul>
                        <li data-toggle="modal" data-target="#viewDetailModal">
                            <a>
                                <span class="plan-name">Đào tạo Web Developer</span><br/>
                                <span class="plan-progress">64/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Mobile Developer</span><br/>
                                <span class="plan-progress">88/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Tester</span><br/>
                                <span class="plan-progress">20/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Hack like, hack facebook</span><br/>
                                <span class="plan-progress">100/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Web Developer</span><br/>
                                <span class="plan-progress">64/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Mobile Developer</span><br/>
                                <span class="plan-progress">88/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Tester</span><br/>
                                <span class="plan-progress">20/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li>
                            <a>
                                <span class="plan-name">Đào tạo Hack like, hack facebook</span><br/>
                                <span class="plan-progress">100/100 học viên hoàn thành</span>
                            </a>
                        </li>
                        <li class="view-more-plan">
                            <a>
                                <span class="plan-name">Xem thêm 20 kế hoạch nữa</span><br/>
                                <!--<span class="plan-progress">100/100 học viên hoàn thành</span>-->
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="./resources/jquery-3.3.1.min.js"></script>
    <script src="./resources/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="./dist/js/traisy.min.js "></script>

    <script type="text/javascript">
        google.charts.load('current', {
            'packages': ['corechart']
        });
        google.charts.setOnLoadCallback(drawPieChart);

        google.charts.load('current', {
            'packages': ['bar']
        });
        google.charts.setOnLoadCallback(drawBarChart);

        google.charts.load('current', {
            'packages': ['timeline']
        });
        google.charts.setOnLoadCallback(drawTimelineChart);

        google.charts.load("current", {
            packages: ["corechart"]
        });
        google.charts.setOnLoadCallback(drawPlanDetailChart);

        function drawPieChart() {

            var dataActiveAndOutdatePlan = google.visualization.arrayToDataTable([
                ['Detail', 'Số kế hoạch khả dụng và hết hạn'],
                ['Đang hoạt động', 35],
                ['Hết hạn', 20],
            ]);

            var dataTotalLearnerFinish = google.visualization.arrayToDataTable([
                ['Detail', 'Thống kê kết quả học viên'],
                ['Đúng tiến độ', 412],
                ['Trễ tiến độ', 138],
            ]);

            var options1 = {
                fontName: 'Open Sans',
                fontSize: 15,
                chartArea: {
                    width: '100%',
                    height: '80%',
                },
                pieHole: 0.5,
                legend: {
                    position: 'right',
                    alignment: 'center',
                    textStyle: {
                        fontSize: 14
                    },
                },
                pieSliceText: 'none',
                slices: {
                    0: {
                        color: '#4C6085'
                    },
                    1: {
                        color: '#39A0ED'
                    }
                },
                height: 200,
                width: 300,
            };

            var options2 = {
                fontName: 'Open Sans',
                fontSize: 15,
                chartArea: {
                    width: '100%',
                    height: '80%',
                },
                pieHole: 0.5,
                legend: {
                    position: 'right',
                    alignment: 'center',
                    textStyle: {
                        fontSize: 14
                    },
                },
                pieSliceText: 'none',
                slices: {
                    0: {
                        color: '#496F5D'
                    },
                    1: {
                        color: '#4C9F70'
                    }
                },
                height: 200,
                width: 300,
            };

            var chartActiveOutdatePlan = new google.visualization.PieChart(document.getElementById('donutchart1'));
            var chartTotalLearnerFinish = new google.visualization.PieChart(document.getElementById('donutchart2'));

            chartActiveOutdatePlan.draw(dataActiveAndOutdatePlan, options1);
            chartTotalLearnerFinish.draw(dataTotalLearnerFinish, options2);
        }

        function drawBarChart() {
            var data = google.visualization.arrayToDataTable([
                ['', 'Công khai', 'Không công khai'],
                ['Đào tạo Tester', 1000, 400],
                ['Đào tạo Hack like, hack facebook', 1170, 460],
                ['Đào tạo Web Developer', 660, 1120],
                ['Đào tạo Mobile Developer', 1030, 540]
            ]);



            var options = {
                chart: {
                    /* title: 'Company Performance',
                     subtitle: 'Sales, Expenses, and Profit: 2014-2017',*/
                },
                chartArea: {
                    width: '80%',
                    height: '100%',
                },
                bar: {
                    groupWidth: "50%"
                },
                legend: {
                    position: "none"
                },
                colors: ['#ff7f45', '#d95f02', '#7570b3'],
                fontName: 'Open Sans',
                fontSize: 15,
                width: 600,
                height: 300,
                /*isStacked: true,*/
                bars: 'horizontal' // Required for Material Bar Charts.
            };

            var chart = new google.charts.Bar(document.getElementById('barchart_material'));

            chart.draw(data, google.charts.Bar.convertOptions(options));
        }

        function drawTimelineChart() {
            var container = document.getElementById('timeline');
            var chart = new google.visualization.Timeline(container);
            var dataTable = new google.visualization.DataTable();

            dataTable.addColumn({
                type: 'string',
                id: 'President'
            });
            dataTable.addColumn({
                type: 'date',
                id: 'Start'
            });
            dataTable.addColumn({
                type: 'date',
                id: 'End'
            });
            dataTable.addRows([
                ['Đào tạo Hack Like', new Date(2017, 5, 30), new Date(2017, 6, 30)],
                ['Đào tạo Brute Force', new Date(2017, 4, 25), new Date(2017, 7, 15)],
                ['Đào tạo Javascript Developer', new Date(2017, 8, 11), new Date(2017, 9, 20)],
                ['Đào tạo Mobile Developer', new Date(2017, 11, 11), new Date(2018, 2, 5)]
            ]);

            var options = {
                timeline: {
                    groupByRowLabel: false,
                    singleColor: '#1ea69a',
                    barLabelStyle: {
                        fontName: 'Open Sans',
                        fontSize: 13
                    }
                },
                fontName: 'Open Sans',
                height: 500,
                width: 700
            };

            chart.draw(dataTable, options);
        }

        function drawPlanDetailChart() {
            var data = google.visualization.arrayToDataTable([
                ['Task', 'Hours per Day'],
                ['Học viên đã hoàn thành', 11],
                ['Học viên chưa hoàn thành', 2],
            ]);

            var options = {
                fontName: 'Open Sans',
                fontSize: 15,
                chartArea: {
                    width: '90%',
                    height: '90%'
                },
                is3D: true,
                slices: {
                    0: {
                        color: '#496F5D'
                    },
                    1: {
                        color: '#4C9F70'
                    }
                },
                height: 220,
                width: 220,
                legend: 'none',
                pieSliceText: 'value',
            };

            var chart = new google.visualization.PieChart(document.getElementById('plan-detail-chart'));
            chart.draw(data, options);
        }

    </script>
</body>
