/*! traisy 2018-02-21 (c) 2018 ThinhLP */
"use strict";function Collapse(a,b,c,d){b||(b=300);var e,f="collapsed",g="target",h=d||function(a,b){},i=function(a){h=a},j=function(a){e=a},k=function(a){},l=function(a){k=a},m=[],n=function(){return $(a).attr(g)},o=function(){return $(a).attr(f)},p=function(a,d,f){if(c)return a&&e&&e.call(this,a,d),void $(f).slideToggle(b,function(){m[f]=!1,a&&h.call(this,a,d)});d?$(f).hide():$(f).show(),m[f]=!1,a&&h.call(this,a,d)},q=function(){p(null,!0,$(n())),$(a).attr(f,"true"),k()},r=function(){p(null,!1,$(n())),$(a).attr(f,"false")},s=function(a){return!0},t=function(a){s=a};return $(document).on("click",a,function(b){var c=$(b.target);if(c.attr(f)||(c=c.parents(a)),s(c)){var d=c.attr(f),e=c.attr(g),h=!0;m[e]||(m[e]=!0,"true"===d&&(h=!1),c.attr(f,h),p(b,h,e))}}),{ATTRIBUTES:{target:g,collapse:f},onClick:i,collapse:q,expand:r,getCurrentStatus:o,getCurrentCollapseTargetSelector:n,setCondition:t,collapsedCallback:l,onBeforeToggle:j}}function ContentTab(a,b,c){var d=b||"active",e="target",f=a.substring(1),g=f+"-inactive-tab",h="."+g,i=null,j=new EventBus,k={ON_CHANGE_TAB:"onChangeTab"},l=function(a){j.on(k.ON_CHANGE_TAB,a)},m=function(b){b.siblings(a).each(function(){var a=$(this).attr(e);$(this).removeClass(d),$(this).addClass(g),$(a).hide()})},n=null,o=function(){if(null!==n){var b=$(n);b.hasClass(f)||(b=b.closest(a));var c=b.attr(e);m(b),b.addClass(d),b.removeClass(g),$(c).show(),j.dispatch(k.ON_CHANGE_TAB,n)}},p=function(b){$(a).eq(b).trigger("click")},q=function(){$("body").on("click",a,function(a){n=a.target,null!==i&&void 0!==i||o()}),$(a).each(function(){$(this).hasClass("active")&&$(this).trigger("click")}),null!==c&&void 0!==c&&(r(),i=new ConfirmDialog({openButtonSelector:h,modalSelector:c.modalSelector,closeButtonSelector:c.closeButtonSelector}),i.onClickYes(function(){o()}))},r=function(){$(a).each(function(a){$(this).hasClass("active")||($(this).removeClass(g),$(this).addClass(g))})};return q(),{onChangeTab:l,onclickTab:p,initInactiveTab:r}}function EventBus(){var a=[],b=function(b,c){a[b]||(a[b]=[]),a[b].push(c)},c=function(){var b=arguments[0],c=[];if(a[b]){for(var d=[],e=1,f=0;e<arguments.length;e++,f++)d[f]=arguments[e];var g=this;return a[b].forEach(function(a){c.push(a.apply(g,d))}),c}};return{on:b,off:function(b,c){if(a[b]){if(!c)return void(a[b]=void 0);var d=[];a[b].forEach(function(a){a===c||d.push(a)}),a[b]=d}},dispatch:c}}function HoverTooltip(a){var b={},c="target";return function(){$(document).on("mouseenter",a,function(){var a=$(this).attr(c);$(a).show(),$(a).mousemove(function(){$(a).show()}),$(a).mouseleave(function(){$(a).hide()})}),$(document).on("mouseleave",a,function(a){var b=$(this).attr(c);$(b).hide()})}(),b}function PopupTooltip(a,b,c,d){var e=Collapse.call(this,a,b,c,d),f=function(a){var b=$(e.getCurrentCollapseTargetSelector());Utils.isMouseClickOutside(a,b)&&"false"===e.getCurrentStatus()&&e.collapse()};return $(document).mouseup(function(b){$(b.target).is(a)||$(b.target).parents().is(a)||f(b)}),e}function ManageMasterpage(){var a={},b=".hamburger-button",c=function(){"true"!=$(b).attr("collapsed")&&($(".left-panel").animate({width:0},250,function(){$(this).hide(),$(b).attr("collapsed","true")}),$(".fake-panel").animate({width:0},250,function(){$(this).hide(),$(".main-container").css("width","100%")}),$(".nav-top").animate({left:0},250))},d=function(){"true"==$(b).attr("collapsed")&&($(".left-panel").show(0,function(){$(this).animate({width:"225px"},250,function(){$(b).attr("collapsed","false")})}),$(".fake-panel").show(0,function(){$(this).animate({width:"225px"},250,function(){$(".main-container").css("width","calc(100% - 225px)")})}),$(".nav-top").animate({left:"225px"},250))};$(b).click(function(){"true"==$(this).attr("collapsed")?d():c()});new ContentTab(".top-menu-item"),new PopupTooltip(".user-action",0);return function(){$(window).resize(function(){})}(),a}function MasterPage(){var a={},b=(new PopupTooltip(".right-panel-user-avatar",0),new HoverTooltip(".compact-nav-items li"),1200),c=function(){$(window).width()<=b?$(".nav-items").addClass("compact-nav-items"):$(".nav-items").removeClass("compact-nav-items")},d=function(){c()},e=function(){c()};return function(){d(),$(window).resize(function(){e()})}(),a}function PlanOverviewPage(){var a=MasterPage.call(this),b=".program-title",c=function(a,c){var d=a.closest(b).find("i");Utils.rotateArrow(d,c)};new Collapse(b,300,!0).onBeforeToggle(function(a,b){var d=$(a.target);c(d,b)});var d=function(){},e=function(){};return function(){d(),$(window).resize(function(){e()})}(),a}Collapse.prototype.constructor=Collapse;var Utils={isMouseClickOutside:function(a,b){return!b.is(a.target)&&0===b.has(a.target).length},rotateArrow:function(a,b){var c="fa-chevron-down",d="rotate-active",e="rotate-reverse";b&&!a.hasClass(d)&&a.hasClass("fa-chevron-up")?a.addClass(e):b&&!a.hasClass(d)&&a.hasClass(c)?a.addClass(d):b&&a.hasClass(d)&&a.hasClass(c)?a.removeClass(d):!b&&a.hasClass(c)?a.addClass(d):a.removeClass(e)},callJsonAjax:function(a,b,c,d,e){$.ajax({url:a,headers:{Accept:"application/json","Content-Type":"application/json"},type:b,dataType:"json",data:JSON.stringify(c),success:function(a){d&&d(a)},error:function(a,b,c){e&&e(a,b,c)}})}};